{"version":3,"sources":["scripts/background.js"],"names":["checkStatus","chrome","storage","sync","get","enabled","items","enableOpenDyslexic","disableOpenDyslexic","document","getElementById","elem","parentNode","removeChild","head","documentElement","reloadPage","style","createElement","rel","type","setAttribute","href","extension","getURL","appendChild","tabs","query","active","lastFocusedWindow","tab","code","executeScript","id","openDyslexic","Init"],"mappings":"AAAA,YAUA,SAASA,eACPC,OAAOC,QAAQC,KAAKC,KAClBC,SAAS,GACR,SAAUC,GACPA,EAAMD,WAAY,EACpBE,qBAEAC,wBAKN,QAASA,uBACwC,MAA3CC,SAASC,eAAe,kBAE1BC,KAAOF,SAASC,eAAe,gBAC/BC,KAAKC,WAAWC,YAAYF,OAC3BF,SAASK,MAAQL,SAASM,iBAAiBF,YAAYF,MACxDK,cAIJ,QAAST,sBACPU,MAAQR,SAASS,cAAc,QAC/BD,MAAME,IAAM,aACZF,MAAMG,KAAO,WACbH,MAAMI,aAAa,KAAM,gBACzBJ,MAAMK,KAAOrB,OAAOsB,UAAUC,OAAO,4BACpCf,SAASK,MAAQL,SAASM,iBAAiBU,YAAYR,OAG1D,QAASD,cACPf,OAAOyB,KAAKC,OACVC,QAAQ,EACRC,mBAAmB,GAClB,SAAUH,GAEX,GAAII,GAAMJ,EAAK,EACfK,MAAO,4BACP9B,OAAOyB,KAAKM,cAAcF,EAAIG,IAC5BF,KAAMA,SAhDZ,GAAI9B,QAAQU,KAAMoB,KAAMd,MAEpBiB,cACFC,KAAM,WACJnC,eAiDJkC,cAAaC","file":"background.js","sourcesContent":["'use strict';\n\nvar chrome, elem, code, style;\n\nvar openDyslexic = {\n  Init: function Init() {\n    checkStatus(); // Check if the check box is set.\n  }\n};\n\nfunction checkStatus() {\n  chrome.storage.sync.get({\n    enabled: false\n  }, function (items) {\n    if (items.enabled === true) {\n      enableOpenDyslexic();\n    } else {\n      disableOpenDyslexic();\n    }\n  });\n}\n\nfunction disableOpenDyslexic() {\n  if (document.getElementById('opendyslexic') != null) {\n    // available\n    elem = document.getElementById('opendyslexic');\n    elem.parentNode.removeChild(elem);\n    (document.head || document.documentElement).removeChild(elem);\n    reloadPage();\n  }\n}\n\nfunction enableOpenDyslexic() {\n  style = document.createElement('link');\n  style.rel = 'stylesheet';\n  style.type = 'text/css';\n  style.setAttribute('id', 'opendyslexic');\n  style.href = chrome.extension.getURL('styles/accesibility.css');\n  (document.head || document.documentElement).appendChild(style);\n}\n\nfunction reloadPage() {\n  chrome.tabs.query({\n    active: true,\n    lastFocusedWindow: true\n  }, function (tabs) {\n    // and use that tab to fill in out title and url\n    var tab = tabs[0];\n    code = 'window.location.reload();';\n    chrome.tabs.executeScript(tab.id, {\n      code: code\n    });\n  });\n}\n\nopenDyslexic.Init();"]}